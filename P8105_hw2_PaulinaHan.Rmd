---
title: "P8105_hw2_PaulinaHan"
author: "Paulina Han"
date: "2021/10/1"
output: github_document
---

```{r, echo=FALSE, message=FALSE}
library(tidyverse)
library(readxl)
library(haven)
```

# Problem 1
```{r, warning=FALSE}
trash_df = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "Mr. Trash Wheel",range = cell_cols("A:N")) #rows?

#tidying trash data set
trash_tidy = 
  trash_df %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  rename(weight = weight_tons ,volume = volume_cubic_yards) %>% 
  mutate(sports_balls = round(sports_balls,0))

#2019 precipitation
precipitation19_df = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "2019 Precipitation", range = "A2:B14")

#tidy 2019 precipitation data
tidy_2019_df =
  precipitation19_df %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2019)
  
#2018 precipitation
precipitation18_df = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "2018 Precipitation", range = "A2:B14")

#tidy 2018 precipitation data
tidy_2018_df =
  precipitation19_df %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2018)  

#combine precipitation data set
preciptation = 
  bind_rows(tidy_2018_df,tidy_2019_df) %>% 
 mutate(month=month.name[month])

#description 
#data set 1
ncol_trash_tidy = ncol(trash_tidy)
nrow_trash_tidy = nrow(trash_tidy)

mean_weight = mean(pull(trash_tidy,weight))
max_weight = max(pull(trash_tidy,weight))
min_weight = min(pull(trash_tidy,weight))

mean_volume = mean(pull(trash_tidy,volume))
max_volume = max(pull(trash_tidy,volume))
min_volume = min(pull(trash_tidy,volume))
#data set 2
ncol_preciptation = ncol(preciptation)
nrow_preciptation = nrow(preciptation)

max_rain = max(pull(preciptation,total))

#median of sports ball in 2017
ball =
  trash_tidy %>% 
  filter(year==2017) %>% 
  pull(sports_balls) %>% 
  median()

```

The tidied Mr.Wheel Trash data set has `r ncol_trash_tidy` columns and `r nrow_trash_tidy ` rows. The mean weight of trash the dumpster took is `r mean_weight` and the maximum weight of trash the dumpster took is `r max_weight`, the minimum weight of trash the dumpster took is `r min_weight`. The mean volume of trash the dumpster took is `r mean_volume`, the maximum volume of trash the dumpster took is `r max_volume` and the minimum volume of trash the dumpster took is `r min_volume`.

The precipitation data set including 2018 and 2019 has `r ncol_preciptation` columns and `r nrow_preciptation` rows. 2018 March had the most preciptation in 2018 and 2019 which is `r max_rain`.

the median number of sports balls in a dumpster in 2017 is `r ball`.

# Problem 2
```{r}
#read pols-month.csv
pols = read_csv("./data/fivethirtyeight_datasets/fivethirtyeight_datasets/pols-month.csv")

#clean pols-month data
pols_tidy = 
  pols %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year","month","day")) %>% 
  mutate(month=month.name[as.numeric(month)]) %>% 
  mutate(president = prez_gop + prez_dem) %>% 
  select(-prez_gop,-prez_dem,-day)
  
  
  
  
  
  

```

